(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-202bbcb7"],{"0bde":function(e,t,a){"use strict";a("a4f9")},4928:function(e,t,a){e.exports=a.p+"img/icon-yes.d2f9f035.svg"},a4f9:function(e,t,a){},db83:function(e,t,a){"use strict";a.r(t);var s=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("section",{staticStyle:{"margin-left":"15px","margin-right":"15px","margin-top":"15px"}},[s("el-divider"),s("el-descriptions",{staticClass:"margin-top",attrs:{title:"",column:3,size:e.size}},[s("template",{slot:"title"},[s("span",[e._v(e._s(e.modelrun.info.run_id))])]),s("template",{slot:"extra"},["all"===e.firstID?s("router-link",{staticStyle:{"text-decoration":"none",color:"aliceblue"},attrs:{to:{name:"模型实验跟踪",params:{experiment_id:e.modelrun.info.experiment_id}}}},[s("el-button",{staticClass:"return-list"},[s("i",{staticClass:"el-icon-arrow-left",staticStyle:{"margin-right":"5px"}}),e._v("返回模型Run列表")])],1):e._e()],1),s("el-descriptions-item",{attrs:{label:"开始时间"}},[s("timeago",{attrs:{datetime:e.modelrun.info.start_time,locale:"zh-CN"}})],1),s("el-descriptions-item",{attrs:{label:"实验编号"}},[e._v("\n      "+e._s(e.modelrun.info.experiment_id)+"\n    ")]),s("el-descriptions-item",{attrs:{label:"Lifecycle Stage"}},[e._v("\n      "+e._s(e.modelrun.info.lifecycle_stage)+"\n    ")]),s("el-descriptions-item",{attrs:{label:"工件路径"}},[e._v("\n      "+e._s(e.modelrun.info.artifact_uri)+"\n    ")]),s("el-descriptions-item",{attrs:{label:"标签"}},[e._v("\n      "+e._s(e.modelrun.data.tags[0]||"暂无")+"\n    ")])],2),s("el-collapse",{on:{change:e.handleChange},model:{value:e.activeNames,callback:function(t){e.activeNames=t},expression:"activeNames"}},[s("el-collapse-item",{attrs:{title:"模型实验描述",name:"1"}},[e.descvisalble&&e.modelrun.data.tags.length>1&&"mlops.framework"===e.modelrun.data.tags[1].key?s("span",[e._v(e._s(e.modelrun.data.tags[1]["value"])+"  ")]):e.descvisalble&&e.modelrun.data.tags.length>0&&"mlops.framework"===e.modelrun.data.tags[0].key?s("span",[e._v(e._s(e.modelrun.data.tags[0]["value"])+"  ")]):s("span",{directives:[{name:"show",rawName:"v-show",value:e.descvisalble,expression:"descvisalble"}]},[e._v("暂无  ")]),e.descvisalble?s("el-button",{attrs:{type:"text"},on:{click:e.handleEdit}},[s("i",{staticClass:"el-icon-edit"})]):e._e(),s("el-input",{directives:[{name:"show",rawName:"v-show",value:e.descEditable,expression:"descEditable"}],staticStyle:{width:"60%"},attrs:{type:"textarea",rows:3},model:{value:e.editModelRunMeta.description,callback:function(t){e.$set(e.editModelRunMeta,"description",t)},expression:"editModelRunMeta.description"}}),s("div",[s("el-button",{directives:[{name:"show",rawName:"v-show",value:e.descEditable,expression:"descEditable"}],staticStyle:{"margin-right":"0px"},attrs:{type:"text",icon:"el-icon-arrow-left"},on:{click:e.handelCancel}},[e._v("取消")]),s("el-button",{directives:[{name:"show",rawName:"v-show",value:e.descEditable,expression:"descEditable"}],staticStyle:{align:"right"},attrs:{type:"text",icon:"el-icon-check",circle:""},on:{click:e.submitSave}},[e._v("保存")])],1)],1),s("el-collapse-item",{attrs:{title:e.parameters,name:"2"}},[s("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.listLoading,expression:"listLoading"}],staticStyle:{width:"50%"},attrs:{data:e.modelrun.data.params,"highlight-current-row":""},on:{"selection-change":e.selsChange}},[s("el-table-column",{attrs:{prop:"key",label:"Name","min-width":"55%"},scopedSlots:e._u([{key:"default",fn:function(t){return[s("img",{attrs:{src:a("4928")}}),s("span",[e._v("\n              "+e._s(t.row.key)+"\n            ")])]}}])}),s("el-table-column",{attrs:{prop:"value",label:"Value","min-width":"45%"}})],1)],1),s("el-collapse-item",{attrs:{title:e.metrics,name:"3"}},[s("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.listLoading,expression:"listLoading"}],staticStyle:{width:"50%"},attrs:{data:e.modelrun.data.metrics,"highlight-current-row":""},on:{"selection-change":e.selsChange}},[s("el-table-column",{attrs:{prop:"key",label:"Name","min-width":"55%"},scopedSlots:e._u([{key:"default",fn:function(t){return[s("img",{attrs:{src:a("4928")}}),s("span",[e._v("\n              "+e._s(t.row.key)+"\n            ")])]}}])}),s("el-table-column",{attrs:{prop:"value",label:"Value","min-width":"45%"}})],1)],1)],1),s("br"),s("br")],1)},i=[],n=a("4ec3"),l=a("c1df"),r=a.n(l),o={data:function(){return{parameters:"Parameters",Metrics:"Metrics",modelrun:{},descvisalble:!0,descEditable:!1,editModelRunMeta:{description:""},activeNames:["1","2"],firstID:"all",altListData:[],moment:r.a,listLoading:!1,filters:{name:""},total:0,page:1,sels:[]}},filters:{formatDate:function(e){var t=new Date(e),a=t.getFullYear(),s=t.getMonth()+1;s=s<10?"0"+s:s;var i=t.getDate();i=i<10?"0"+i:i;var n=t.getHours();n=n<10?"0"+n:n;var l=t.getMinutes();l=l<10?"0"+l:l;var r=t.getSeconds();return r=r<10?"0"+r:r,a+"-"+s+"-"+i+" "+n+":"+l+":"+r}},watch:{},methods:{getRun:function(){var e=this,t={user_name:JSON.parse(sessionStorage.getItem("name")),run_id:this.$route.params.run_id};console.log(t,"paraar");var a={"Content-Type":"application/json",Authorization:"Token "+JSON.parse(sessionStorage.getItem("token"))};Object(n["x"])(a,t).then((function(t){e.listLoading=!1;var a=t.msg,s=t.code,i=t.data;"999999"===s?(e.modelrun=i,i.data.params?i.data.params.length>0&&(e.parameters="Parameters ("+i.data.params.length+")"):e.parameters="Parameters (0)",i.data.metrics?i.data.metrics.length>0&&(e.metrics="Metrics ("+i.data.metrics.length+")"):e.metrics="Metrics (0)",console.log(e.modelrun,"self.modelrun")):e.$message.error({message:a,center:!0})}))},submitSave:function(){var e=this,t=this,a=JSON.stringify({run_id:t.$route.params.run_id,description:t.editModelRunMeta.description,user_name:JSON.parse(sessionStorage.getItem("name"))});console.log(a,"params");var s={"Content-Type":"application/json",Authorization:"Token "+JSON.parse(sessionStorage.getItem("token"))};Object(n["e"])(s,a).then((function(a){var s=a.msg,i=a.code;"999999"===i?(t.$message({message:"添加成功",center:!0,type:"success"}),e.descEditable=!1,e.descvisalble=!0,e.editModelRunMeta.description="",t.getRun()):"999997"===i?t.$message.error({message:s,center:!0}):(t.$message.error({message:s,center:!0}),e.editModelRunMeta.description="",e.descEditable=!1,e.descvisalble=!0,t.getRun())}))},handelCancel:function(){this.descEditable=!1,this.descvisalble=!0,this.editModelRunMeta.description=""},handleEdit:function(){this.descEditable=!0,this.descvisalble=!1,this.modelrun.data.tags.length>0?this.editModelRunMeta.description=this.modelrun.data.tags[0].key+":"+this.modelrun.data.tags[0].value:this.editModelRunMeta.description="暂无"},handleChange:function(e){console.log(e)},handleCurrentChange:function(e){this.page=e}},mounted:function(){this.getRun()}},d=o,c=(a("0bde"),a("2877")),m=Object(c["a"])(d,s,i,!1,null,"7ccfef92",null);t["default"]=m.exports}}]);
//# sourceMappingURL=chunk-202bbcb7.c45e5c14.js.map