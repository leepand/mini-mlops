{"version":3,"sources":["webpack:///./src/assets/icon-yes.svg","webpack:///./src/views/model-deploy/ModelVersionPage.vue?b149","webpack:///src/views/model-deploy/ModelVersionPage.vue","webpack:///./src/views/model-deploy/ModelVersionPage.vue?ba68","webpack:///./src/views/model-deploy/ModelVersionPage.vue","webpack:///./src/views/model-deploy/ModelVersionPage.vue?8954"],"names":["module","exports","render","_vm","this","_h","$createElement","_c","_self","staticStyle","staticClass","attrs","size","slot","_v","_s","regedModel","name","firstID","params","model_name","$route","_e","creation_timestamp","last_updated_timestamp","on","handleChange","model","value","callback","$$v","activeNames","expression","description","handleEdit","directives","rawName","editModelMeta","$set","handelCancel","submitSave","isall","modelversions","selsChange","scopedSlots","_u","key","fn","scope","row","version_id","version","current_stage","total","handleCurrentChange","staticRenderFns","data","descvisalble","descEditable","altListData","moment","listLoading","filters","page","sels","formatDate","date","Date","y","getFullYear","MM","getMonth","d","getDate","h","getHours","m","getMinutes","s","getSeconds","watch","getModelVersionsInfo","methods","self","stage_btn","user_key","JSON","parse","sessionStorage","getItem","console","log","headers","Authorization","getModelVersions","then","res","msg","code","$message","error","message","center","getModelsMetaData","getModelBaseinfo","_this","stringify","user_name","header","EditModelDesc","_data","type","val","mounted","component"],"mappings":"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","file":"js/chunk-22ef2d16.5485257e.js","sourcesContent":["module.exports = __webpack_public_path__ + \"img/icon-yes.d2f9f035.svg\";","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('section',{staticStyle:{\"margin-left\":\"15px\",\"margin-right\":\"15px\",\"margin-top\":\"15px\"}},[_c('el-divider'),_c('el-descriptions',{staticClass:\"margin-top\",attrs:{\"title\":\"\",\"column\":3,\"size\":_vm.size}},[_c('template',{slot:\"title\"},[_c('span',[_vm._v(_vm._s(_vm.regedModel.name))])]),_c('template',{slot:\"extra\"},[(_vm.firstID === 'all')?_c('router-link',{staticStyle:{\"text-decoration\":\"none\",\"color\":\"aliceblue\"},attrs:{\"to\":{\n          name: '模型运营',\n          params: { model_name: this.$route.params.model_name },\n        }}},[_c('el-button',{staticClass:\"return-list\"},[_c('i',{staticClass:\"el-icon-arrow-left\",staticStyle:{\"margin-right\":\"5px\"}}),_vm._v(\"返回模型运营中心\")])],1):_vm._e()],1),_c('el-descriptions-item',{attrs:{\"label\":\"模型名称\"}},[_vm._v(_vm._s(_vm.regedModel.name))]),_c('el-descriptions-item',{attrs:{\"label\":\"创建时间\"}},[_c('timeago',{attrs:{\"datetime\":_vm.regedModel.creation_timestamp,\"locale\":\"zh-CN\"}})],1),_c('el-descriptions-item',{attrs:{\"label\":\"最近修改时间\"}},[_c('timeago',{attrs:{\"datetime\":_vm.regedModel.last_updated_timestamp,\"locale\":\"zh-CN\"}})],1)],2),_c('el-collapse',{staticStyle:{\"margin-bottom\":\"10px\"},on:{\"change\":_vm.handleChange},model:{value:(_vm.activeNames),callback:function ($$v) {_vm.activeNames=$$v},expression:\"activeNames\"}},[_c('el-collapse-item',{attrs:{\"title\":\"模型描述\",\"name\":\"1\"}},[(_vm.descvisalble)?_c('span',[_vm._v(_vm._s(_vm.regedModel.description)+\"  \")]):_vm._e(),(_vm.descvisalble)?_c('el-button',{attrs:{\"type\":\"text\"},on:{\"click\":_vm.handleEdit}},[_c('i',{staticClass:\"el-icon-edit\"})]):_vm._e(),_c('el-input',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.descEditable),expression:\"descEditable\"}],staticStyle:{\"width\":\"60%\"},attrs:{\"type\":\"textarea\",\"rows\":3},model:{value:(_vm.editModelMeta.description),callback:function ($$v) {_vm.$set(_vm.editModelMeta, \"description\", $$v)},expression:\"editModelMeta.description\"}}),_c('div',[_c('el-button',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.descEditable),expression:\"descEditable\"}],staticStyle:{\"margin-right\":\"0px\"},attrs:{\"type\":\"text\",\"icon\":\"el-icon-arrow-left\"},on:{\"click\":_vm.handelCancel}},[_vm._v(\"取消\")]),_c('el-button',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.descEditable),expression:\"descEditable\"}],staticStyle:{\"align\":\"right\"},attrs:{\"type\":\"text\",\"icon\":\"el-icon-check\",\"circle\":\"\"},on:{\"click\":_vm.submitSave}},[_vm._v(\"保存\")])],1)],1),_c('el-collapse-item',{attrs:{\"title\":\"模型版本列表\",\"name\":\"2\"}},[_c('el-col',{staticClass:\"toolbar\",staticStyle:{\"padding-bottom\":\"0px\"},attrs:{\"span\":24}},[_c('el-radio-group',{staticStyle:{\"margin-bottom\":\"10px\"},model:{value:(_vm.isall),callback:function ($$v) {_vm.isall=$$v},expression:\"isall\"}},[_c('el-radio-button',{attrs:{\"label\":true}},[_vm._v(\"All\")]),_c('el-radio-button',{attrs:{\"label\":false}},[_vm._v(\"Active\")])],1)],1),_c('el-table',{directives:[{name:\"loading\",rawName:\"v-loading\",value:(_vm.listLoading),expression:\"listLoading\"}],staticStyle:{\"width\":\"100%\"},attrs:{\"data\":_vm.modelversions,\"highlight-current-row\":\"\"},on:{\"selection-change\":_vm.selsChange}},[_c('el-table-column',{attrs:{\"type\":\"selection\",\"min-width\":\"5%\"}}),_c('el-table-column',{attrs:{\"prop\":\"version\",\"label\":\"版本\",\"min-width\":\"15%\",\"sortable\":\"\",\"show-overflow-tooltip\":\"\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('img',{directives:[{name:\"show\",rawName:\"v-show\",value:(scope.row.status),expression:\"scope.row.status\"}],attrs:{\"src\":require(\"@/assets/icon-yes.svg\")}}),_c('router-link',{staticStyle:{\"text-decoration\":\"none\"},attrs:{\"to\":{\n                name: '模型版本详情',\n                params: {\n                  version_id: scope.row.version,\n                  model_name: scope.row.name,\n                },\n              }}},[_vm._v(\"\\n              \"+_vm._s(\"Version\" + \"  \" + scope.row.version)+\"\\n            \")])]}}])}),_c('el-table-column',{attrs:{\"prop\":\"creation_timestamp\",\"label\":\"上线时间\",\"min-width\":\"28%\",\"sortable\":\"\",\"show-overflow-tooltip\":\"\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('timeago',{attrs:{\"datetime\":scope.row.creation_timestamp,\"locale\":\"zh-CN\"}})]}}])}),_c('el-table-column',{attrs:{\"prop\":\"tags[0].value\",\"label\":\"责任人\",\"min-width\":\"15%\",\"sortable\":\"\",\"show-overflow-tooltip\":\"\"}}),_c('el-table-column',{attrs:{\"prop\":\"current_stage\",\"label\":\"所处阶段\",\"min-width\":\"10%\",\"sortable\":\"\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [(scope.row.current_stage === 'Production')?_c('el-tag',{attrs:{\"type\":\"success\"}},[_vm._v(_vm._s(scope.row.current_stage))]):(scope.row.current_stage === 'Staging')?_c('el-tag',{attrs:{\"type\":\"warning\"}},[_vm._v(_vm._s(scope.row.current_stage))]):_c('el-tag',{attrs:{\"type\":\"info\"}},[_vm._v(_vm._s(scope.row.current_stage))])]}}])}),_c('el-table-column',{attrs:{\"prop\":\"description\",\"label\":\"版本描述\",\"min-width\":\"35%\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [(scope.row.description === '')?_c('span',[_vm._v(\"无\")]):_c('span',[_vm._v(_vm._s(scope.row.description))])]}}])})],1),_c('el-col',{staticClass:\"toolbar\",attrs:{\"span\":24}},[_c('el-pagination',{staticStyle:{\"float\":\"right\"},attrs:{\"layout\":\"prev, pager, next\",\"page-size\":20,\"page-count\":_vm.total},on:{\"current-change\":_vm.handleCurrentChange}})],1)],1)],1),_c('br')],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <section style=\"margin-left: 15px; margin-right: 15px; margin-top: 15px\">\n    <el-divider></el-divider>\n    <el-descriptions class=\"margin-top\" title=\"\" :column=\"3\" :size=\"size\">\n      <template slot=\"title\">\n        <span>{{ regedModel.name }}</span>\n      </template>\n      <template slot=\"extra\">\n        <router-link\n          v-if=\"firstID === 'all'\"\n          :to=\"{\n            name: '模型运营',\n            params: { model_name: this.$route.params.model_name },\n          }\"\n          style=\"text-decoration: none; color: aliceblue\"\n        >\n          <el-button class=\"return-list\"\n            ><i class=\"el-icon-arrow-left\" style=\"margin-right: 5px\"></i\n            >返回模型运营中心</el-button\n          >\n        </router-link>\n      </template>\n      <el-descriptions-item label=\"模型名称\">{{\n        regedModel.name\n      }}</el-descriptions-item>\n      <el-descriptions-item label=\"创建时间\"\n        ><timeago\n          :datetime=\"regedModel.creation_timestamp\"\n          locale=\"zh-CN\"\n        ></timeago\n      ></el-descriptions-item>\n      <el-descriptions-item label=\"最近修改时间\"\n        ><timeago\n          :datetime=\"regedModel.last_updated_timestamp\"\n          locale=\"zh-CN\"\n        ></timeago\n      ></el-descriptions-item>\n    </el-descriptions>\n\n    <el-collapse\n      v-model=\"activeNames\"\n      @change=\"handleChange\"\n      style=\"margin-bottom: 10px\"\n    >\n      <el-collapse-item title=\"模型描述\" name=\"1\">\n        <span v-if=\"descvisalble\"\n          >{{ regedModel.description }}&nbsp;&nbsp;</span\n        >\n        <el-button v-if=\"descvisalble\" type=\"text\" @click=\"handleEdit\"\n          ><i class=\"el-icon-edit\"></i\n        ></el-button>\n\n        <el-input\n          v-show=\"descEditable\"\n          type=\"textarea\"\n          style=\"width: 60%\"\n          :rows=\"3\"\n          v-model=\"editModelMeta.description\"\n        ></el-input>\n        <div>\n          <el-button\n            type=\"text\"\n            v-show=\"descEditable\"\n            @click=\"handelCancel\"\n            style=\"margin-right: 0px\"\n            icon=\"el-icon-arrow-left\"\n            >取消</el-button\n          >\n          <el-button\n            style=\"align: right\"\n            v-show=\"descEditable\"\n            type=\"text\"\n            icon=\"el-icon-check\"\n            @click=\"submitSave\"\n            circle\n            >保存</el-button\n          >\n        </div>\n      </el-collapse-item>\n      <el-collapse-item title=\"模型版本列表\" name=\"2\">\n        <!--工具条-->\n        <el-col :span=\"24\" class=\"toolbar\" style=\"padding-bottom: 0px\">\n          <el-radio-group v-model=\"isall\" style=\"margin-bottom: 10px\">\n            <el-radio-button :label=\"true\">All</el-radio-button>\n            <el-radio-button :label=\"false\">Active</el-radio-button>\n          </el-radio-group>\n        </el-col>\n        <!--列表-->\n        <el-table\n          :data=\"modelversions\"\n          highlight-current-row\n          v-loading=\"listLoading\"\n          @selection-change=\"selsChange\"\n          style=\"width: 100%\"\n        >\n          <el-table-column type=\"selection\" min-width=\"5%\"> </el-table-column>\n          <el-table-column\n            prop=\"version\"\n            label=\"版本\"\n            min-width=\"15%\"\n            sortable\n            show-overflow-tooltip\n          >\n            <template slot-scope=\"scope\">\n              <img v-show=\"scope.row.status\" src=\"@/assets/icon-yes.svg\" />\n              <router-link\n                :to=\"{\n                  name: '模型版本详情',\n                  params: {\n                    version_id: scope.row.version,\n                    model_name: scope.row.name,\n                  },\n                }\"\n                style=\"text-decoration: none\"\n              >\n                {{ \"Version\" + \"&nbsp;&nbsp;\" + scope.row.version }}\n              </router-link>\n            </template>\n          </el-table-column>\n          <el-table-column\n            prop=\"creation_timestamp\"\n            label=\"上线时间\"\n            min-width=\"28%\"\n            sortable\n            show-overflow-tooltip\n          >\n            <template slot-scope=\"scope\"\n              ><timeago\n                :datetime=\"scope.row.creation_timestamp\"\n                locale=\"zh-CN\"\n              ></timeago\n            ></template>\n          </el-table-column>\n          <el-table-column\n            prop=\"tags[0].value\"\n            label=\"责任人\"\n            min-width=\"15%\"\n            sortable\n            show-overflow-tooltip\n          >\n          </el-table-column>\n          <el-table-column\n            prop=\"current_stage\"\n            label=\"所处阶段\"\n            min-width=\"10%\"\n            sortable\n          >\n            <template slot-scope=\"scope\">\n              <el-tag\n                v-if=\"scope.row.current_stage === 'Production'\"\n                type=\"success\"\n                >{{ scope.row.current_stage }}</el-tag\n              >\n              <el-tag\n                v-else-if=\"scope.row.current_stage === 'Staging'\"\n                type=\"warning\"\n                >{{ scope.row.current_stage }}</el-tag\n              >\n              <el-tag v-else type=\"info\">{{ scope.row.current_stage }}</el-tag>\n            </template>\n          </el-table-column>\n          <el-table-column prop=\"description\" label=\"版本描述\" min-width=\"35%\">\n            <template slot-scope=\"scope\">\n              <span v-if=\"scope.row.description === ''\">无</span>\n              <span v-else>{{ scope.row.description }}</span>\n            </template>\n          </el-table-column>\n        </el-table>\n        <el-col :span=\"24\" class=\"toolbar\">\n          <el-pagination\n            layout=\"prev, pager, next\"\n            @current-change=\"handleCurrentChange\"\n            :page-size=\"20\"\n            :page-count=\"total\"\n            style=\"float: right\"\n          >\n          </el-pagination>\n        </el-col>\n      </el-collapse-item>\n    </el-collapse>\n    <br />\n  </section>\n</template>\n\n<script>\n// {{ regedModel.creation_timestamp | formatDate}}\nimport { getModelBaseinfo, getModelVersions, EditModelDesc } from '@/api/api'\nimport moment from 'moment'\nexport default {\n  data () {\n    return {\n      modelversions: [],\n      isall: true,\n      regedModel: {},\n      // edit_btn: true,\n      descvisalble: true,\n      descEditable: false,\n      editModelMeta: {\n        description: ''\n      },\n      activeNames: ['1', '2'],\n      firstID: 'all',\n      altListData: [],\n      moment: moment,\n      listLoading: false,\n      filters: {\n        name: ''\n      },\n      total: 0,\n      page: 1,\n      sels: [] // 列表选中列\n    }\n  },\n  filters: {\n    formatDate: function (value) {\n      let date = new Date(value)\n      let y = date.getFullYear()\n      let MM = date.getMonth() + 1\n      MM = MM < 10 ? '0' + MM : MM\n      let d = date.getDate()\n      d = d < 10 ? '0' + d : d\n      let h = date.getHours()\n      h = h < 10 ? '0' + h : h\n      let m = date.getMinutes()\n      m = m < 10 ? '0' + m : m\n      let s = date.getSeconds()\n      s = s < 10 ? '0' + s : s\n      return y + '-' + MM + '-' + d + ' ' + h + ':' + m + ':' + s\n    }\n  },\n  watch: {\n    isall () {\n      this.getModelVersionsInfo(this.isall)\n      // this.changeHost()\n      // this.drawLine()\n    }\n  },\n  methods: {\n    // 获取模型版本信息\n    getModelVersionsInfo (isall) {\n      let self = this\n      if (isall) {\n        this.stage_btn = 'all'\n      } else {\n        this.stage_btn = 'active'\n      }\n      let params = {\n        user_key: JSON.parse(sessionStorage.getItem('name')),\n        stage_btn: this.stage_btn,\n        name: this.$route.params.model_name\n      }\n      console.log(params, 'paraar')\n      // let headers = {Authorization: 'Token '+JSON.parse(sessionStorage.getItem('token'))};\n      let headers = {\n        'Content-Type': 'application/json',\n        Authorization: 'Token ' + JSON.parse(sessionStorage.getItem('token'))\n      }\n      getModelVersions(headers, params).then((res) => {\n        self.listLoading = false\n        let { msg, code, data } = res\n        if (code === '999999') {\n          self.modelversions = data.data\n          console.log(self.modelversions, 'self.modelversions')\n        } else {\n          self.$message.error({\n            message: msg,\n            center: true\n          })\n        }\n      })\n    },\n    // 获取模型元数据信息\n    getModelsMetaData () {\n      let self = this\n      let params = {\n        user_key: JSON.parse(sessionStorage.getItem('name')),\n        name: this.$route.params.model_name\n      }\n      // let headers = {Authorization: 'Token '+JSON.parse(sessionStorage.getItem('token'))};\n      let headers = {\n        'Content-Type': 'application/json',\n        Authorization: 'Token ' + JSON.parse(sessionStorage.getItem('token'))\n      }\n      getModelBaseinfo(headers, params).then((res) => {\n        self.listLoading = false\n        let { msg, code, data } = res\n        if (code === '999999') {\n          self.regedModel = data\n          console.log(self.regedModel, 'self.regedModel')\n        } else {\n          self.$message.error({\n            message: msg,\n            center: true\n          })\n        }\n      })\n    },\n    // 提交模型描述编辑\n    submitSave: function () {\n      let self = this\n      // NProgress.start();\n      let params = JSON.stringify({\n        model_name: self.$route.params.model_name,\n        description: self.editModelMeta.description,\n        user_name: JSON.parse(sessionStorage.getItem('name'))\n      })\n      console.log(params, 'params')\n      let header = {\n        'Content-Type': 'application/json',\n        Authorization: 'Token ' + JSON.parse(sessionStorage.getItem('token'))\n      }\n      EditModelDesc(header, params).then((_data) => {\n        let { msg, code } = _data\n        if (code === '999999') {\n          self.$message({\n            message: '添加成功',\n            center: true,\n            type: 'success'\n          })\n          this.descEditable = false\n          this.descvisalble = true\n          this.editModelMeta.description = ''\n          self.getModelsMetaData()\n        } else if (code === '999997') {\n          self.$message.error({\n            message: msg,\n            center: true\n          })\n        } else {\n          self.$message.error({\n            message: msg,\n            center: true\n          })\n          this.editModelMeta.description = ''\n          this.descEditable = false\n          this.descvisalble = true\n          self.getModelsMetaData()\n        }\n      })\n    },\n    handelCancel: function () {\n      this.descEditable = false\n      this.descvisalble = true\n      this.editModelMeta.description = ''\n    },\n    handleEdit: function () {\n      this.descEditable = true\n      this.descvisalble = false\n      this.editModelMeta.description = this.regedModel.description\n    },\n    handleChange (val) {\n      console.log(val)\n    },\n    handleCurrentChange (val) {\n      this.page = val\n    }\n  },\n  mounted () {\n    this.getModelsMetaData()\n    if (this.isall) {\n      this.stage_btn = 'all'\n    } else {\n      this.stage_btn = 'active'\n    }\n    this.getModelVersionsInfo(this.isall)\n    // if (this.$route.params.firstID) {\n    //   this.firstID = this.$route.params.firstID\n    // } else {\n    //   this.firstID = 'all'\n    //  }\n    // this.firstID = this.$route.params.firstGroup\n  }\n}\n</script>\n\n<style lang=\"scss\" scoped>\np {\n  margin: 0 0 10px;\n}\n.return-list {\n  margin-top: 0px;\n  margin-left: 10px;\n  margin-right: 10px;\n  margin-bottom: 10px;\n  border-radius: 0px;\n}\n.HttpStatus {\n  border-radius: 25px;\n  padding: 10px;\n  box-sizing: border-box;\n  color: #fff;\n  font-size: 15px;\n  background-color: #409eff;\n  text-align: center;\n  margin-right: 10px;\n}\n.lin {\n  left: 2%;\n  border: 1px solid #e6e6e6;\n  width: 90%;\n  position: relative;\n}\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ModelVersionPage.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ModelVersionPage.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ModelVersionPage.vue?vue&type=template&id=5933a4c9&scoped=true&\"\nimport script from \"./ModelVersionPage.vue?vue&type=script&lang=js&\"\nexport * from \"./ModelVersionPage.vue?vue&type=script&lang=js&\"\nimport style0 from \"./ModelVersionPage.vue?vue&type=style&index=0&id=5933a4c9&prod&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"5933a4c9\",\n  null\n  \n)\n\nexport default component.exports","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ModelVersionPage.vue?vue&type=style&index=0&id=5933a4c9&prod&lang=scss&scoped=true&\""],"sourceRoot":""}